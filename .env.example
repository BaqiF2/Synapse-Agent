# LLM 配置已迁移至 ~/.synapse/settings.json
# 示例：
# {
#   "env": {
#     "ANTHROPIC_API_KEY": "your_api_key_here",
#     "ANTHROPIC_BASE_URL": "https://api.anthropic.com"
#   },
#   "model": "claude-sonnet-4-5"
# }
# 单次请求最大 token 数（可选）
MAX_TOKENS=4096

# Agent Loop
# 主 Agent / SubAgent 最大迭代次数（可选）
SYNAPSE_MAX_TOOL_ITERATIONS=50
# 连续工具失败上限（可选，>=1）
SYNAPSE_MAX_CONSECUTIVE_TOOL_FAILURES=3
# 终端渲染输出的最大行数（可选）
SYNAPSE_MAX_OUTPUT_LINES=5
# 工具调用重试次数（可选）
MAX_TOOL_RETRIES=3

# Context window
# 上下文 token 上限（可选，估算）
MAX_CONTEXT_TOKENS=200000

# Skill enhance
# 触发增强所需的最少唯一工具数（可选，手动/自动共用）
SYNAPSE_MIN_ENHANCE_UNIQUE_TOOLS=5
# 增强分析最大字符数（可选）
SYNAPSE_MAX_ENHANCE_CONTEXT_CHARS=50000
# token 估算：每个 token 约多少字符（可选）
SYNAPSE_CHARS_PER_TOKEN=4

# Skill cache / watcher
# 控制 SkillLoader 的缓存有效期（毫秒），读取技能元数据/文档时会走缓存，超过这个时间才会重新读取磁盘。
SKILL_CACHE_TTL_MS=300000
# 控制 技能文件监听的去抖时间（毫秒）。当技能脚本频繁变动（保存、批量更新）时，等一小段时间再统一处理，避免反复触发生成包装器。
SKILL_WATCHER_DEBOUNCE_MS=1500

# Logging
# 日志级别：TRACE/DEBUG/INFO/WARN/ERROR/NONE（可选）
SYNAPSE_LOG_LEVEL=TRACE
# 日志目录（可选）
SYNAPSE_LOG_DIR=~/.synapse/logs
# 日志文件名（可选）
SYNAPSE_LOG_FILE=agent.log
# 是否写入文件（可选）
SYNAPSE_LOG_TO_FILE=true
# 单个日志文件最大字节数（可选）
SYNAPSE_LOG_MAX_SIZE=10485760

# Bash tool
# Bash 命令超时（毫秒，可选）
COMMAND_TIMEOUT=30000

# Agent Shell tools
# read 默认读取行数（0=不限，可选）
READ_DEFAULT_LIMIT=2000
# glob 默认最大结果数（可选）
GLOB_MAX_RESULTS=100
# search 默认最大结果数（可选）
GREP_MAX_RESULTS=100
# search 默认上下文行数（可选）
GREP_CONTEXT_LINES=2000
# skill search 默认最大结果数（可选）
SKILL_SEARCH_MAX_RESULTS=20

# MCP
# MCP 初始化超时（毫秒，可选）
MCP_INIT_TIMEOUT_MS=10000
# MCP 请求超时（毫秒，可选）
MCP_TIMEOUT_MS=30000
